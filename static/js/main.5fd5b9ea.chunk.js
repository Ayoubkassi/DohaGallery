(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(17),r=n.n(i),s=(n(24),n(9)),l=(n(25),n(26),n(3)),o=function(){return Object(l.jsxs)("div",{className:"title",children:[Object(l.jsx)("h1",{children:"Ensak Titiz"}),Object(l.jsx)("h2",{children:"Pictures"}),Object(l.jsx)("p",{children:"Hey Hey and Welcome Again Hna Titiz d Ensa Kenitra"})]})},u=(n(28),n(29),n(14)),j=n.n(u),d=n(18),b=n(12);n(35),n(36);b.a.initializeApp({apiKey:"AIzaSyDhOQJ-HYhIPrldM3yq-kgQUBfEzkocpi0",authDomain:"ayoub-gallery.firebaseapp.com",projectId:"ayoub-gallery",storageBucket:"ayoub-gallery.appspot.com",messagingSenderId:"836434927399",appId:"1:836434927399:web:39b0b152e3e05215f51302",measurementId:"G-HJS0Q2S465"});var f=b.a.storage(),p=b.a.firestore(),g=b.a.firestore.FieldValue.serverTimestamp,O=function(e){var t=Object(c.useState)(0),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(null),l=Object(s.a)(r,2),o=l[0],u=l[1],b=Object(c.useState)(null),O=Object(s.a)(b,2),m=O[0],h=O[1];return Object(c.useEffect)((function(){var t=f.ref(e.name),n=p.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){u(e)}),Object(d.a)(j.a.mark((function e(){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,a=g(),n.add({url:c,createdAt:a}),h(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:a,url:m,error:o}},m=function(e){var t=e.file,n=e.setFile,a=O(t),i=a.url,r=a.progress;return Object(c.useEffect)((function(){i&&n(null)}),[i,n]),Object(l.jsx)("div",{className:"progress-bar",style:{width:r+"%"}})},h=function(e){var t=Object(c.useState)(null),n=Object(s.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(null),o=Object(s.a)(r,2),u=o[0],j=o[1],d=["image/png","image/jpeg","image/jpg"];return Object(l.jsxs)("form",{children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&d.includes(t.type)?(i(t),j("")):(i(null),j("Please select an image file (png | jpeg | jpg) !!"))}}),Object(l.jsx)("span",{children:"+"})]}),Object(l.jsxs)("div",{className:"output",children:[u&&Object(l.jsxs)("div",{className:"error",children:[u," "]}),a&&Object(l.jsxs)("div",{children:[" ",a.name," "]}),a&&Object(l.jsx)(m,{file:a,setFile:i})]})]})},v=(n(32),n(38)),y=n(15),x=function(e){var t=Object(c.useState)([]),n=Object(s.a)(t,2),a=n[0],i=n[1];return Object(c.useEffect)((function(){var t=p.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(y.a)(Object(y.a)({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:a}},S=function(e){var t=e.setSelectedImg,n=x("images").docs;return Object(l.jsx)("div",{className:"img-grid",children:n&&n.map((function(e){return Object(l.jsx)(v.a.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},s:!0,onClick:function(){return t(e.url)},children:Object(l.jsx)(v.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},I=(n(33),function(e){var t=e.setSelectedImg,n=e.selectedImg;return Object(l.jsx)(v.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:Object(l.jsx)(v.a.img,{src:n,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})});var k=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(o,{}),Object(l.jsx)(h,{}),Object(l.jsx)(S,{setSelectedImg:a}),n&&Object(l.jsx)(I,{selectedImg:n,setSelectedImg:a})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root")),w()}},[[34,1,2]]]);
//# sourceMappingURL=main.5fd5b9ea.chunk.js.map